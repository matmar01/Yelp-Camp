<% include ../partials/header %>


<div class="row justify-content-center">
    <div class="col-12 mb-3 text-center">
        <h1>Create a new Campground</h1>
    </div>
    <div class="col-xs-12 col-sm-6">
        <form action="/campgrounds" method="POST" enctype="multipart/form-data">
            <% if(check) { %>
            <div class="form-group">
                <label for="name">Name of the Campground</label>
                <input class="form-control" type="text" name="name" value="<%= campground.name %>" required id="name">
            </div>
            <div class="form-group">
                <label for="price">Price per night</label>
                <input class="form-control" type="number" name="price" value="<%= campground.price %>" step="0.01" min="0" required id="price">
            </div>
            <div class="form-group">
                <label for="location">Location</label>
                <input class="form-control is-invalid" type="text" name="location" value="<%= campground.location %>" id="location">
                <div class="invalid-feedback">
                    Please provide a valid location.
                </div>
            </div>
            <div class="form-group">
                <label for="dsc">Short description of the Campground</label>
                <input class="form-control" type="text" name="description" value="<%= campground.dsc %>" id="dsc">
            </div> 
            <div class="custom-file mb-3">
                <label for="image" class="custom-file-label">Image</label>
                <input class="custom-file-input" type="file" name="image" id="image" accept="image/*" required>
            </div>
            <% }  else {%>
            <div class="form-group">
                <label for="name">Name of the Campground</label>
                <input class="form-control" type="text" name="name" placeholder="Name" required id="name">
            </div>
            <div class="form-group">
                <label for="price">Price per Night</label>
                <input class="form-control" type="number" name="price" placeholder="price with max 2 decimal spots" step="0.01" min="0" required id="price">
            </div>
            <div class="form-group">
                <label for="location">Location</label>
                <input class="form-control" type="text" name="location" placeholder="City,Nation" id="location">
            </div>
            <div class="form-group">
                <label for="dsc">Short description of the Campground</label>
                <input class="form-control" type="text" name="description" placeholder="Describe the camp" id="dsc">
            </div> 
            <div class="custom-file mb-3">
                <label for="image" class="custom-file-label">Image</label>
                <input class="custom-file-input" type="file" name="image" id="image" accept="image/*" required>
            </div>
            <% } %>
            <div class="form-group">
                <button class="btn btn-block btn-lg btn-primary">Submit!</button>
            </div>
        </form>
        <a class="btn btn-md btn-warning" href="/campgrounds">Go Back</a>
    </div>
</div>
<script>
    $(".custom-file-input").on("change", function() {
        var fileName = $(this).val().split("\\").pop();
        $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
        });
</script>
<% include ../partials/footer %>